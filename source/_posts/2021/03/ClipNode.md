---
title: ClipNode
categories: cocos2dx
date: 2021-03-07
---

### 实现按钮扫光特效
---

基本的表现是：
- 下面一张图片是一个按钮，上面一张扫光图片。
- 然后，上面的扫光图片在一定的区域内来回水平移动。
- 这样就可以实现基本的按钮扫光特效了。

关键的问题是，如果将上面图层超出下面图层的区域裁剪掉。

这里就要是使用ClipNode来解决这个问题了。

ClipNode主要有两个部分：模板和底板

用法是通过模板图片，来裁剪底板图片。让底板超出模板的区域被裁剪掉（不显示）。

- 可以设置一个透明度阈值，来判定要不要裁剪：setAlphaThreshold
- 可以通过参数，来控制裁剪区域，是超出部分，还是没有超出的部分：setInverted;



